/*!
 * Slider v0.0.2
 * https://github.com/fengyuanchen/slider
 *
 * Copyright 2014 Fengyuan Chen
 * Released under the MIT license
 */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";var b=a(window),c=function(b,d){this.$element=a(b),this.defaults=a.extend({},c.defaults,a.isPlainObject(d)?d:{}),this.init()};c.prototype={constructor:c,init:function(){var a=this.$element,b=this.defaults,c={overflow:"hidden"};this.$content=a.find("."+b.contentClass),this.$items=this.$content.children(),this.$nav=a.find("."+b.navClass),this.$btns=this.$nav.children(),this.$prev=a.find("."+b.prevClass),this.$next=a.find("."+b.nextClass),"static"===a.css("position")&&(c.position="relative"),a.css(c),this.index=0,this.length=1,this.$items.length>1&&this.render()},render:function(){var a=this.$element,b=this.defaults,c=this.$items.first();this.itemHeight=c.height(),this.itemWidth=c.width(),this.itemLength=this.$items.length,this.width=a.width(),this.height=a.height(),"scrollx"===b.effect?this.scrollX():"scrolly"===b.effect?this.scrollY():this.fade(),this.firstIndexOflastView=this.itemLength-(this.itemLength%this.length||this.length),this.enable(),b.autoplay&&this.start()},fade:function(){"static"===this.$content.css("position")&&this.$content.css("position","relative"),this.$items.css({display:"none",height:this.itemHeight,left:0,position:"absolute",top:0,width:this.itemWidth}).first().show(),this.sliding=function(){var a=this.defaults.speed,b=this.defaults.easing;this.$items.stop(!0).fadeOut(a,b).eq(this.index).fadeIn(a,b)}},scrollX:function(){this.length=Math.floor(this.width/this.itemWidth),this.$items.css({height:this.itemHeight,"float":"left",width:this.itemWidth}),this.$content.css({height:this.itemHeight,left:0,position:"absolute",top:0,width:this.itemWidth*(this.itemLength+1)}),this.sliding=function(){this.$content.stop(!0).animate({left:-this.itemWidth*this.index},this.defaults.speed,this.defaults.easing)}},scrollY:function(){this.length=Math.floor(this.height/this.itemHeight),this.$items.css({height:this.itemHeight,width:this.itemWidth}),this.$content.css({height:this.itemHeight*(this.itemLength+1),left:0,position:"absolute",top:0}),this.sliding=function(){this.$content.stop(!0).animate({top:-this.itemHeight*this.index},this.defaults.speed,this.defaults.easing)}},enable:function(){var c=this;this.active||(this.active=!0,this.$nav.add(this.$prev).add(this.$next).on({mouseover:a.proxy(this.stop,this),mouseout:a.proxy(this.start,this)}),this.$btns.on(this.defaults.trigger,function(){c.index=a(this).index(),c.slide()}),this.$prev.on("click",a.proxy(this.prev,this)),this.$next.on("click",a.proxy(this.next,this)),b.on("resize",a.proxy(this.resize,this)))},disable:function(){this.active&&(this.active=!1,this.stop(),this.$nav.add(this.$prev).add(this.$next).off({mouseover:this.stop,mouseout:this.start}),this.$btns.off(this.defaults.trigger),this.$prev.off("click",this.prev),this.$next.off("click",this.next),b.off("resize",this.resize))},reRender:function(){var a=this.$element.height(),b=this.$element.width();(a!==this.height||b!==this.width)&&(this.height=a,this.width=b,this.stop(),this.render())},resize:function(){this.resizing&&(clearTimeout(this.resizing),this.resizing=null),this.resizing=setTimeout(a.proxy(this.reRender,this),200)},start:function(){this.active&&!this.autoSlided&&(this.autoSlided=!0,this.autoSliding=setInterval(a.proxy(this.next,this),this.defaults.duration))},stop:function(){this.autoSlided&&(this.autoSlided=!1,clearInterval(this.autoSliding))},prev:function(){var a=this.index-this.length;this.index=0>a?0:a,this.slide()},next:function(){var a=this.index+this.length;this.index=a<=this.firstIndexOflastView?a:this.autoSlided?0:this.firstIndexOflastView,this.slide()},prevable:function(){var a=this.index>0;return this.$prev.toggleClass(this.defaults.disableClass,!a),a},nextable:function(){var a=this.index<this.firstIndexOflastView;return this.$next.toggleClass(this.defaults.disableClass,!a),a},slide:function(){var a=this.defaults.activeClass,b=this.$btns.eq(this.index);b.hasClass(a)||(b.addClass(a).siblings().removeClass(a),this.prevable(),this.nextable(),this.sliding())},sliding:a.noop},c.defaults={activeClass:"slider-active",autoplay:!0,contentClass:"slider-content",disableClass:"slider-disabled",duration:5e3,effect:"fade",easing:"swing",navClass:"slider-nav",nextClass:"slider-next",prevClass:"slider-prev",speed:1e3,trigger:"click"},c.setDefaults=function(b){a.extend(c.defaults,b)},a.fn.slider=function(b){return this.each(function(){var d=a(this),e=d.data("slider");e||d.data("slider",e=new c(this,b)),"string"==typeof b&&a.isFunction(e[b])&&e[b]()})},a.fn.slider.constructor=c,a.fn.slider.setDefaults=c.setDefaults,a(function(){a("[slider]").slider()})});
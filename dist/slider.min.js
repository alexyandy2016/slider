/*!
 * Slider v0.0.2
 * https://github.com/fengyuanchen/slider
 *
 * Copyright 2014 Fengyuan Chen
 * Released under the MIT license
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var i=t(window),s=function(i,e){this.$element=t(i),this.defaults=t.extend({},s.defaults,t.isPlainObject(e)?e:{}),this.init()};s.prototype={constructor:s,init:function(){var t=this.$element,i=this.defaults,s={overflow:"hidden"};this.$content=t.find("."+i.contentClass),this.$items=this.$content.children(),this.$nav=t.find("."+i.navClass),this.$btns=this.$nav.children(),this.$prev=t.find("."+i.prevClass),this.$next=t.find("."+i.nextClass),"static"===t.css("position")&&(s.position="relative"),t.css(s),this.index=0,this.length=1,this.$items.length>1&&this.render()},render:function(){var t=this.$element,i=this.defaults,s=this.$items.first();this.itemHeight=s.height(),this.itemWidth=s.width(),this.itemLength=this.$items.length,this.width=t.width(),this.height=t.height(),"scrollx"===i.effect?this.scrollX():"scrolly"===i.effect?this.scrollY():this.fade(),this.firstIndexOflastView=this.itemLength-(this.itemLength%this.length||this.length),this.enable(),i.autoplay&&this.start()},fade:function(){"static"===this.$content.css("position")&&this.$content.css("position","relative"),this.$items.css({display:"none",height:this.itemHeight,left:0,position:"absolute",top:0,width:this.itemWidth}).first().show(),this.sliding=function(){var t=this.defaults.speed,i=this.defaults.easing;this.$items.stop(!0).fadeOut(t,i).eq(this.index).fadeIn(t,i)}},scrollX:function(){this.length=Math.floor(this.width/this.itemWidth),this.$items.css({height:this.itemHeight,"float":"left",width:this.itemWidth}),this.$content.css({height:this.itemHeight,left:0,position:"absolute",top:0,width:this.itemWidth*(this.itemLength+1)}),this.sliding=function(){this.$content.stop(!0).animate({left:-this.itemWidth*this.index},this.defaults.speed,this.defaults.easing)}},scrollY:function(){this.length=Math.floor(this.height/this.itemHeight),this.$items.css({height:this.itemHeight,width:this.itemWidth}),this.$content.css({height:this.itemHeight*(this.itemLength+1),left:0,position:"absolute",top:0}),this.sliding=function(){this.$content.stop(!0).animate({top:-this.itemHeight*this.index},this.defaults.speed,this.defaults.easing)}},enable:function(){var s=this;this.active||(this.active=!0,this.$nav.add(this.$prev).add(this.$next).on({mouseover:t.proxy(this.stop,this),mouseout:t.proxy(this.start,this)}),this.$btns.on(this.defaults.trigger,function(){s.index=t(this).index(),s.slide()}),this.$prev.on("click",t.proxy(this.prev,this)),this.$next.on("click",t.proxy(this.next,this)),i.on("resize",t.proxy(this.resize,this)))},disable:function(){this.active&&(this.active=!1,this.stop(),this.$nav.add(this.$prev).add(this.$next).off({mouseover:this.stop,mouseout:this.start}),this.$btns.off(this.defaults.trigger),this.$prev.off("click",this.prev),this.$next.off("click",this.next),i.off("resize",this.resize))},reRender:function(){var t=this.$element.height(),i=this.$element.width();t===this.height&&i===this.width||(this.height=t,this.width=i,this.stop(),this.render())},resize:function(){this.resizing&&(clearTimeout(this.resizing),this.resizing=null),this.resizing=setTimeout(t.proxy(this.reRender,this),200)},start:function(){this.active&&!this.autoSlided&&(this.autoSlided=!0,this.autoSliding=setInterval(t.proxy(this.next,this),this.defaults.duration))},stop:function(){this.autoSlided&&(this.autoSlided=!1,clearInterval(this.autoSliding))},prev:function(){var t=this.index-this.length;this.index=0>t?0:t,this.slide()},next:function(){var t=this.index+this.length;this.index=t<=this.firstIndexOflastView?t:this.autoSlided?0:this.firstIndexOflastView,this.slide()},prevable:function(){var t=this.index>0;return this.$prev.toggleClass(this.defaults.disableClass,!t),t},nextable:function(){var t=this.index<this.firstIndexOflastView;return this.$next.toggleClass(this.defaults.disableClass,!t),t},slide:function(){var t=this.defaults.activeClass,i=this.$btns.eq(this.index);i.hasClass(t)||(i.addClass(t).siblings().removeClass(t),this.prevable(),this.nextable(),this.sliding())},sliding:t.noop},s.defaults={activeClass:"slider-active",autoplay:!0,contentClass:"slider-content",disableClass:"slider-disabled",duration:5e3,effect:"fade",easing:"swing",navClass:"slider-nav",nextClass:"slider-next",prevClass:"slider-prev",speed:1e3,trigger:"click"},s.setDefaults=function(i){t.extend(s.defaults,i)},t.fn.slider=function(i){return this.each(function(){var e=t(this),h=e.data("slider");h||e.data("slider",h=new s(this,i)),"string"==typeof i&&t.isFunction(h[i])&&h[i]()})},t.fn.slider.constructor=s,t.fn.slider.setDefaults=s.setDefaults,t(function(){t("[slider]").slider()})});